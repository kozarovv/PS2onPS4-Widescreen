apiRequest(1.0)
local eeObj = getEEObject()
local emuObj = getEmuObject()

local widescreen = function()
--gametitle=XIII (SLUS-20677)
--comment=Widescreen hack by nemesis2000 (pnach by nemesis2000)

eeObj.WriteMem32(0x001d66fc,0x14400005)
eeObj.WriteMem32(0x001d6700,0x3c04003d)
eeObj.WriteMem32(0x001d6704,0x0c09f8fc)
eeObj.WriteMem32(0x001d6708,0x2484d1c8)
eeObj.WriteMem32(0x001d670c,0x0c09f934)
eeObj.WriteMem32(0x001d6710,0xaf82a2ec)
eeObj.WriteMem32(0x001d6714,0x8f84a2ec)
eeObj.WriteMem32(0x001d6718,0x3c06003d)
eeObj.WriteMem32(0x001d671c,0x0000282d)
eeObj.WriteMem32(0x001d6720,0x24c6e7a0)
eeObj.WriteMem32(0x001d6724,0x0000382d)
eeObj.WriteMem32(0x001d6728,0x24080001)
eeObj.WriteMem32(0x001d672c,0x0c05e844)
eeObj.WriteMem32(0x001d6730,0x0000482d)
eeObj.WriteMem32(0x001d6734,0x0040802d)
eeObj.WriteMem32(0x001d6738,0x0c05f668)
eeObj.WriteMem32(0x001d673c,0xafa0009c)
eeObj.WriteMem32(0x001d6740,0x8fa6009c)
eeObj.WriteMem32(0x001d6744,0x0200202d)
eeObj.WriteMem32(0x001d6748,0x8f8980cc)
eeObj.WriteMem32(0x001d674c,0x0040282d)
eeObj.WriteMem32(0x001d6750,0x0000382d)
eeObj.WriteMem32(0x001d6754,0x0000402d)
eeObj.WriteMem32(0x001d6758,0x0c05f904)
eeObj.WriteMem32(0x001d675c,0x0000502d)
eeObj.WriteMem32(0x001d6760,0x0c0760d4)
eeObj.WriteMem32(0x001d6764,0x0040202d)
eeObj.WriteMem32(0x001d6768,0xae420068)
eeObj.WriteMem32(0x001d676c,0x8e440068)
eeObj.WriteMem32(0x001d6770,0x8c990000)
eeObj.WriteMem32(0x001d6774,0x8f390068)
eeObj.WriteMem32(0x001d6778,0x0320f809)
eeObj.WriteMem32(0x001d677c,0x0240282d)
eeObj.WriteMem32(0x001d6780,0x0c0635b4)
eeObj.WriteMem32(0x001d6784,0x00000000)
eeObj.WriteMem32(0x001d6788,0xe640007c)
eeObj.WriteMem32(0x001d678c,0x3c023fd4)
eeObj.WriteMem32(0x001d6790,0xae4000d8)
eeObj.WriteMem32(0x001d6794,0x24040004)
eeObj.WriteMem32(0x001d6798,0xae4000dc)
eeObj.WriteMem32(0x001d679c,0x3c033f40)
eeObj.WriteMem32(0x001d67a0,0xae4000e0)
eeObj.WriteMem32(0x001d67a4,0x34427ae1)
eeObj.WriteMem32(0x001d67a8,0xae4000e4)
eeObj.WriteMem32(0x001d67ac,0xae4000e8)
eeObj.WriteMem32(0x001d67b0,0xae4000ec)
eeObj.WriteMem32(0x001d67b4,0xae4000f0)
eeObj.WriteMem32(0x001d67b8,0xae4000f4)
eeObj.WriteMem32(0x001d67bc,0xae4000f8)
eeObj.WriteMem32(0x001d67c0,0xae4000fc)
eeObj.WriteMem32(0x001d67c4,0xae400104)
eeObj.WriteMem32(0x001d67c8,0xae400100)
eeObj.WriteMem32(0x001d67cc,0xae4400b0)
eeObj.WriteMem32(0x001d67d0,0xae400090)
eeObj.WriteMem32(0x001d67d4,0xae40008c)
eeObj.WriteMem32(0x001d67d8,0xae4300a8)
eeObj.WriteMem32(0x001d67dc,0x3c033f80)
eeObj.WriteMem32(0x001d67e0,0xae4300ac)

--FMV's fix
eeObj.WriteMem32(0x00355238,0x260276b0)
eeObj.WriteMem32(0x00355288,0x24420951)

eeObj.WriteMem32(0x00355370,0x260276b0)
eeObj.WriteMem32(0x003553bc,0x24420951)
end

emuObj.AddVsyncHook(widescreen)